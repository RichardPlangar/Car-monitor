const { getLink, getInfoFromAdvertisement } = require('./routes');
const {
  insertIntoBasicsTable,
  insertIntoCarConditionTable,
} = require('./sqlQuery');
const {
  formatAdvertiseId,
  getCarCondition,
  formatText,
} = require('./formatData');

function getAllAdvertisement(pages) {
  for (let i = 1; i <= pages; i++) {
    setTimeout(() => {
      getLink(
        'https://www.hasznaltauto.hu/talalatilista/PCOG2VG3R3RDADH5S56ACFHGWKM4OXNBIFNKDEKWTLL4VABJUFEYZEVUDJAPZ6Z2NWA2JYVJ22YR2H47TQKOI7BCF5PE4CZJNIEFREKTWDBFM7BQG2K4FH6RUA7ECE5IQPTFFAGOBNLYZP2LWGTFMBIMUEDWE34LAE23RURIDN5SOUUIOEDH5UWMRMKNROBS5NNT2S6EW3KUAZYP7ZWEDB7SADHDJXJZKJGLX343CQKTRMA3AVNPSJYFIVOBANGZE44Z5OKGQ55I7AM6UR7UTQP4ZB3TXF5XGEES3ZNWJTL3PMDFQLRGGLJHLGDBM4AIOC4HLMAEHPPI224XLN5EQODAREKCS6ETQH3XJ2A3DV6KJRSLCUXR3R7XGGG57XXND2JLE4U7MTYB7OSWNXIGPET65VHY53FX3LRMBJXAYGN4MBZSP6KQ6X4OBQCUK5VZ5XJ26XOX65ZDLCBUXGE2J7GC6U64UVQLUUB3VO3FBS4BUSRVDQIRLJJNNJ6UPOBEVBR6GD5II4DMFFTPARBK5SY5JR2KSVLUUUPIUWE2DU5TTBG2RROZTJJSLMZK7BS7AHMBGVHXONAWWOASTMO6JC54VD7HEO3PFA463YZCYZCR7T3CHTV6G6MM4564Z53U4VQMN2VBVXIDKLUMRHS3T7GB6AE6YIVKJN3LDAOHSKGUNDYZZJF3BCQ2ZWM6USE2VMXJ3QHRMUNQREG6DMLZH57HTLWV7J7YNO6E5WVJT7WJEGKFRV2YRFXQEWWDKZCNOGDG5WFTK2G6BAHGDBTWPJ3VJ4ZDV4S4SM63K2MOSVAH6HARNXE5FHQ4KUU75VX7ML4E3JRILO7NNSTEVPDH6BCPIN5UEX7OZBK2ATOC6PNIXTGW7ZBZXRVAJXEF57YDADD2LSI',
        i
      )
        .then((data) => formatAdvertiseId(data))
        .then((data) => insertIntoBasicsTable(data));
    }, 4000);
  }
}
getAllAdvertisement(10);
